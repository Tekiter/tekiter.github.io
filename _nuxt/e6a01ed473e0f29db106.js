(window.webpackJsonp=window.webpackJsonp||[]).push([[5,9,10,11],{156:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("h1",[t._v("큰제목")]),t._v(" "),e("p",[t._v("Nuxt 블로그가 어떻게 되는지 봅시다.")]),t._v(" "),e("p",[e("s",[t._v("취소선")])]),t._v(" "),e("h2",[t._v("소제목")]),t._v(" "),e("p",[t._v("으아아")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("줄 찍")])])}]};t.exports={attributes:{title:"Nuxt Markdown 블로그 테스트",category:"helloworlda"},meta:{resourcePath:"/home/runner/work/tekiter.github.io/tekiter.github.io/blog/posts/2019-02-06-init copy.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},157:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("h1",[t._v("큰제목")]),t._v(" "),e("p",[t._v("Nuxt 블로그가 어떻게 되는지 봅시다.")]),t._v(" "),e("p",[e("s",[t._v("취소선")])]),t._v(" "),e("h2",[t._v("소제목")]),t._v(" "),e("p",[t._v("으아아")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("줄 찍")])])}]};t.exports={attributes:{title:"Nuxt Markdown 블로그 테스트",category:"helloworld"},meta:{resourcePath:"/home/runner/work/tekiter.github.io/tekiter.github.io/blog/posts/2019-02-06-init.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},158:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("h3",[t._v("Pwntools 소개")]),t._v(" "),e("p",[t._v("Pwntools 는 리눅스 환경에서 익스플로잇을 짜는 것을 쉽게 할 수 있게 해주는 파이썬 라이브러리다.")]),t._v(" "),e("p",[t._v("공식 Github 주소 : "),e("a",{attrs:{href:"https://github.com/Gallopsled/pwntools"}},[t._v("https://github.com/Gallopsled/pwntools")])]),t._v(" "),e("p",[t._v("공식 문서 주소 : "),e("a",{attrs:{href:"http://docs.pwntools.com/en/stable/#"}},[t._v("http://docs.pwntools.com/en/stable/")])]),t._v(" "),e("h3",[t._v("Pwntools 설치")]),t._v(" "),e("p",[t._v("우분투 환경에서 다음 명령어를 입력하면 Pwntools를 쉽게 설치할 수 있다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("sudo apt-get update\nsudo apt-get install python2.7 python-pip python-dev git libssl-dev libffi-dev build-essential\nsudo pip install --upgrade pip\nsudo pip install --upgrade pwntools\n")])]),t._v(" "),e("p",[t._v("Pwntools 는 파이썬 2.7 환경만 지원하므로 주의하자.")]),t._v(" "),e("h3",[t._v("기본중의 기본")]),t._v(" "),e("p",[t._v("Pwntools를 사용하려면 파이썬 파일의 처음에 다음과 같이 pwn 모듈을 import 시켜야 한다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("from pwn import *\n")])]),t._v(" "),e("p",[t._v("다음과 같이 process 클래스의 인스턴스를 만드는 것으로 elf 파일을 실행시킬 수 있다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v('r = process("파일이름")\n')])]),t._v(" "),e("p",[t._v("위의 줄을 실행하면 해당 프로그램을 실행시키고, 입력을 대기하게 된다.")]),t._v(" "),e("p",[t._v("이후 실행된 프로그램에는 r 변수를 통해 접근할 수 있다.")]),t._v(" "),e("p",[t._v("process() 로 실행시킨 프로그램은 입출력을 화면에 직접 할 수 없다. 대신에, r 변수를 통해 함수를 호출시키면서 파이썬 코드를 통해 프로그램의 stdin에 입력을 넣어주고, stdout에서 출력을 받아올 수 있다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v('# stdin에 "Hello, World" 문자열을 넣음\nr.send("Hello, World")\n\n# stdin에 "Hello, pwntools\\n" 문자열을 넣음\nr.sendline("Hello, pwntools")\n\n\n# stdout에서 4바이트의 문자열을 읽어와 반환\nr.recv(4)\n\n# stdout에서 한 줄의 문자열을 읽어와 반환\nr.recvline()\n\n# stdout에서 "ttt"라는 문자열까지를 반환\nr.recvuntil(\'ttt\')\n\n\n# 유저가 직접 화면에 입출력 할 수 있게 한다.\nr.interactive()\n')])]),t._v(" "),e("p",[t._v("r.interactive() 함수가 특이한데, 프로그램을 평소대로 실행했던 때 처럼 입출력 할 수 있게 유저에게 입출력을 다시 돌려준다. 프로그램에 직접 입출력 조작이 필요할 때, 이 함수를 호출하면 된다.")]),t._v(" "),e("p",[t._v("예제를 통해 자세히 알아보자.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v('#include <stdio.h>\n#include <stdlib.h>\n\nint main() {\n  int i, a, b, ans;\n  srand(time(0));\n\n  for (i = 0; i < 100; i++) {\n    a = rand() % 20000;\n    b = rand() % 20000;\n    printf("#%d: %d + %d = ?\\n", i, a, b);\n    printf("> ");\n    scanf("%d", &ans);\n    if (a + b == ans) {\n      printf("Correct!\\n");\n    }\n    else {\n      printf("Wrong!\\n");\n      return 0;\n    }\n  }\n  printf("Congrats! flag{welcome_to_pwntools}");\n}\n')])]),t._v(" "),e("p",[t._v("쉬운 ctf문제로 나오는 문제 유형 중 하나이다. 100개의 덧셈 문제를 모두 풀면 플래그를 내놓는다.")]),t._v(" "),e("p",[t._v("손으로 하기엔 엄청난 노가다이지만, pwntools 을 활용해 문제를 읽어들이고 답을 입력시키면 빠르게 해결 가능하다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v('from pwn import *\n\n# ./test 를 실행시킨다.\nr = process("./test")\n\n// 총 100번 반복한다.\nfor i in range(100):\n\n    # 몇번째 문제인지 표시\n    print("Solving " + str(i))\n\n    # 문제의 숫자 앞까지 읽어들이기\n    r.recvuntil(":")\n\n    # + 앞까지 읽어서 첫번째 항 숫자 읽어들이기\n    rawa = r.recvuntil("+")[:-1]\n    a = int(rawa)\n\n    # = 앞까지 읽어서 두번째 항 숫자 읽어들이기\n    rawb = r.recvuntil("=")[:-1]\n    b = int(rawb)\n\n    # 답을 구함\n    ans = a + b\n\n\t# 답을 프로그램에 입력시킴\n    r.sendline(str(ans))\n\n    # Correct! 문자열 읽어줌\n    r.recvuntil("Correct!\\n")\n\n# 다 끝나면 interactive() 로 제어를 넘겨받음\nr.interactive()\n')])]),t._v(" "),e("p",[t._v('[:-1] 은 파이썬의 문법을 활용한 것인데, "ABCDE"[:-1] 의 결과는 "ABCD" 가 된다.')]),t._v(" "),e("p",[t._v('이에 대한 자세한 내용은 "파이썬 문자열 슬라이싱" 을 검색하면 된다.')]),t._v(" "),e("p",[t._v("위의 c 코드를 gcc test.c -o test 로 컴파일하고 위의 파이썬 코드를 실행시켜 보자.")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://tekiter.github.io/images/2020-02-06-pwntools1.png",alt:"실행결과1"}}),t._v(" "),e("img",{attrs:{src:"https://tekiter.github.io/images/2020-02-06-pwntools2.png",alt:"실행결과2"}})]),t._v(" "),e("p",[t._v("플래그가 나온 것을 확인할 수 있다.")]),t._v(" "),e("p",[t._v("그런데 실제 문제는 로컬의 바이너리로 주지 않고, 원격으로 nc로 접속해야 할 때가 많다.")]),t._v(" "),e("p",[t._v("이에 따라 pwntools 에서도 원격으로 접속할 수 있는 기능을 제공한다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v('r = remote("주소", 포트)\n')])]),t._v(" "),e("p",[t._v("process 대신에 remote 클래스를 사용하면 원격에 접속할 수 있다.")]),t._v(" "),e("p",[t._v("remote 를 사용해도 process 로 실행했을 때와 완전히 동일하게 send 와 recv 계열 함수를 사용할 수 있다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("nc 123.456.789.123 12345\n")])]),t._v(" "),e("p",[t._v("로 접속하는 것은 다음과 동일하다.")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v('r = remote("123.456.789.123", 12345)\n')])])])}]};t.exports={attributes:{title:"Pwntools 기본 사용법",category:"보안"},meta:{resourcePath:"/home/runner/work/tekiter.github.io/tekiter.github.io/blog/posts/2020-02-06-pwntools.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},159:function(t,n,e){var map={"./2019-02-06-init copy.md":156,"./2019-02-06-init.md":157,"./2020-02-06-pwntools.md":158};function r(t){var n=o(t);return e(n)}function o(t){if(!e.o(map,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=159},169:function(t,n,e){"use strict";e.r(n);e(97);var r=e(34),o=(e(25),e(15),e(36),e(5)),v={asyncData:function(t){t.params;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e(159),o=n.keys().map((function(t){var e=t.match(/\/(.+)\.md$/),o=Object(r.a)(e,2)[1],v=n(t);return{name:o,title:v.attributes.title,category:v.attributes.category}})),t.abrupt("return",{posts:o});case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{prefix:"blog/posts"}},methods:{}},c=e(18),component=Object(c.a)(v,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("전체글보기")]),t._v(" "),e("ul",t._l(t.posts,(function(n){return e("li",{key:n.title},[t._v("\n      "+t._s(n)+"\n      "),e("nuxt-link",{attrs:{to:"/blog/posts/"+n.name}},[t._v("asdf")])],1)})),0)])}),[],!1,null,null,null);n.default=component.exports}}]);